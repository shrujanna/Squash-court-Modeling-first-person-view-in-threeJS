## Squash Court Modeling – First Person View (Three.js)

An interactive 3D squash court experience built with **Three.js**, running in the browser with **Parcel** as the bundler.

### Features

- **3D squash court model** loaded from a `.glb` file in `src/models/`
- **First-person style camera** for immersive navigation
- **HDR environment lighting** from `src/hdr/studio.exr`
- Web-friendly build output in the `dist/` folder

---

## Project Structure

- **`src/index.html`**: Main HTML entry point for development
- **`src/js/script.js`**: Main Three.js / application logic
- **`src/models/new2.glb`**: Squash court 3D model
- **`src/hdr/studio.exr`**: HDRI used for realistic lighting
- **`dist/`**: Bundled production assets generated by Parcel

---

## Getting Started

### 1. Prerequisites

- **Node.js** (LTS recommended)
- **npm** (comes with Node)

Check versions:

```bash
node -v
npm -v
```

### 2. Install Dependencies

From the project root:

```bash
npm install
npm install three
npm install --save-dev parcel
```

> If you already installed `three` and `parcel` globally, you can keep using that, but the above is recommended for consistent local builds.

---

## Running the Project in Development

From the project root:

```bash
parcel ./src/index.html
```

Parcel will start a dev server and print a local URL (typically `http://localhost:1234`).  
Open that URL in your browser to view the squash court scene.

---

## Notes

- If you move or rename the model (`new2.glb`) or HDR file (`studio.exr`), make sure to update the paths in `src/js/script.js`.
- For deployment, you can serve the contents of the `dist/` folder with any static file server or hosting provider.

## Controls

- **W / A / S / D** – Move
- **Shift** – Sprint
- **Click** – Lock pointer and enable FPS movement
- **G** – Teleport to ground floor (`Y = 0.3`)
- **U** – Teleport to upper floor (`Y = 2.5`)
- **P** – Print camera position to console

A small coordinate display is shown at the bottom-left, updating in real time.

---

## Lighting Setup

The scene uses a combination of lights to achieve realistic indoor illumination:

- **Hemisphere Light** – Soft global lighting  
- **Directional Light** – Main soft-shadow light with ACES Filmic tone mapping  
- **Ambient Light** – Base fill light  
- **Point Lights** – Multiple bulbs placed inside the court for brighter indoor ambience  
- **HDRI (`studio.exr`)** – Used for realistic reflections and optional background  

Tone mapping, shadow softness, and physical lighting are enabled for realism.

---

## Environment & Model

- Court loaded from **`new2.glb`**
- All meshes get:
  - `castShadow = true`
  - `receiveShadow = true`
  - sRGB textures + envMap reflections
- Some meshes excluded from collision detection:
  - `Plane.002`, `Plane.005`

---

## Collision System

A **capsule-like player collider** is simulated using a bounding box:

- Radius: `0.3`
- Height: `0.6`
- Automatically positioned relative to the camera

Collision detection includes:

- **Horizontal movement collisions**
- **Vertical collisions** using raycasts:
  - Downward raycast → detect floor
  - Upward raycast → detect ceiling
- Sliding logic so you can “slide along walls” when moving diagonally

The engine prevents:

- Walking through walls  
- Clipping into floors  
- Pushing into ceilings  

---

## Movement System (FPS Controller)

- Full **WASD first-person movement**
- Movement direction is based on camera orientation
- Sprinting increases speed from **4** → **7**
- Horizontal movement:
  - Full step attempt  
  - If blocked → try X-only  
  - If blocked → try Z-only  
- Vertical correction keeps the camera correctly aligned to floors & ceilings

---

## UI Overlays

Two UI elements are shown:

1. **Coordinate display** (bottom-left)  
   - Shows live X/Y/Z camera position  
2. **Instructions panel** (top-left)  
   - Lists controls and interactions  

Both use fixed screen-space HTML elements.

---

## Summary of Systems Included

- HDRI loading  
- GLTF scene loading  
- Realistic materials  
- Multi-layer lighting  
- Floor/ceiling raycasts  
- 8-direction wall raycasts  
- Player collider  
- FPS controls  
- UI overlays  
- Window resize handling  
